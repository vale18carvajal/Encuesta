const iniciarBtn=document.querySelector(".iniciarBtn");function iniciarEncusta(){radio=document.querySelector("#terminos").checked,radio?window.location.href=`${location.origin}/encuesta`:Swal.fire("Por favor lea los términos y condiciones")}null!==iniciarBtn&&iniciarBtn.addEventListener("click",iniciarEncusta);let provincia="",genero="",rangoEdad="",generoAbandonado="",rangoSoldedad="",rangoCuidado="",rangoPreparado="",preparadoCuidar="",puntaje=0;const siguiente=document.querySelector(".despues"),anterior=document.querySelector(".antes"),contenedores=document.querySelectorAll(".contenido");let index=0;function mostrarSiguiente(){index<contenedores.length-1&&(contenedores[index].classList.add("oculto"),index++,contenedores[index].classList.remove("oculto"))}function mostrarAnterior(){index>0&&(contenedores[index].classList.add("oculto"),index--,contenedores[index].classList.remove("oculto"))}siguiente.addEventListener("click",mostrarSiguiente),anterior.addEventListener("click",mostrarAnterior);const opcionesProvincia=document.querySelectorAll(".boton.provincia");opcionesProvincia.forEach((e=>{e.addEventListener("click",elegirProvincia)}));const opcionesGenero=document.querySelectorAll(".boton.genero");opcionesGenero.forEach((e=>{e.addEventListener("click",elegirOpcion)}));const edad=document.querySelector(".select-edad");edad.addEventListener("change",elegirEdad);const rangoPreg4=document.querySelectorAll(".boton.opcionBtn4");rangoPreg4.forEach((e=>{e.addEventListener("click",elegirRangoPreg4)}));const rangoPreg5=document.querySelectorAll(".boton.opcionBtn5");rangoPreg5.forEach((e=>{e.addEventListener("click",elegirRangoPreg5)}));const rangoPreg6=document.querySelectorAll(".boton.opcionBtn6");rangoPreg6.forEach((e=>{e.addEventListener("click",elegirRangoPreg6)}));const Preg7=document.querySelectorAll(".boton.opcionBtn7");Preg7.forEach((e=>{e.addEventListener("click",elegirPregunta7)}));const finalizarBtn=document.querySelector("#finalizar");function elegirProvincia(e){const o=e.currentTarget,r=o.value;tipo=r,provincia=tipo,o.classList.add("activo"),opcionesProvincia.forEach((e=>{e!==o&&e.classList.remove("activo")})),cambiarImagenProvincia(tipo)}function cambiarImagenProvincia(e){if("San José"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/SJ.svg")}if("Alajuela"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/Alajuela.svg")}if("Heredia"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/Heredia.svg")}if("Cartago"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/cartago.svg")}if("Puntarenas"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/Puntarenas.svg")}if("Guanacaste"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/Guanacaste.svg")}if("Limón"===e){document.querySelector(".img-mapa").setAttribute("src","build/img/Limon.svg")}}function elegirOpcion(e){document.querySelector(".select-edad").selectedIndex=0;const o=e.currentTarget,r=o.id;tipo=r,genero=tipo,o.classList.add("activo"),opcionesGenero.forEach((e=>{e!==o&&e.classList.remove("activo")})),elegirGenero(tipo)}function elegirGenero(e){if("mujer"===e){document.querySelector(".imagen-persona").setAttribute("src","build/img/silueta_mujer.svg")}if("hombre"===e){document.querySelector(".imagen-persona").setAttribute("src","build/img/Sombra_de_hombre.svg")}if("otro"===e){document.querySelector(".imagen-persona").setAttribute("src","build/img/Silueta-persona.svg")}}function elegirEdad(e){const o=e.target.value;if(rangoEdad=o,"20-29"===o&&"hombre"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Hombre_20.svg")}if("30-39"===o&&"hombre"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Hombre_30.svg")}if("40-49"===o&&"hombre"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Hombre_40.svg")}if("50-59"===o&&"hombre"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Hombre_50.svg")}if("60"===o&&"hombre"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Hombre_60.svg")}if("20-29"===o&&"mujer"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Mujer_20.svg")}if("30-39"===o&&"mujer"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Mujer_30.svg")}if("40-49"===o&&"mujer"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Mujer_40.svg")}if("50-59"===o&&"mujer"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Mujer_50.svg")}if("60"===o&&"mujer"===genero){document.querySelector(".imagen-persona").setAttribute("src","build/img/Mujer_60.svg")}}finalizarBtn.addEventListener("click",validarRespuestas);const generos=document.querySelector(".select-generos");generos.addEventListener("change",alegirGeneros);const hombresOMujeres=document.querySelector("#generos");function alegirGeneros(e){const o=e.target.value;generoAbandonado=o}function alegirHombresOMujeres(e){const o=e.target.value;if("hombres"===o){document.querySelector(".personas").setAttribute("src","build/img/Abuelo_1.svg")}if("mujeres"===o){document.querySelector(".personas").setAttribute("src","build/img/Abuela.svg")}}function elegirRangoPreg4(e){const o=e.currentTarget,r=o.value;tipo=r,rangoSoldedad=tipo,o.classList.add("activo"),rangoPreg4.forEach((e=>{e!==o&&e.classList.remove("activo")}))}function elegirRangoPreg5(e){const o=e.currentTarget,r=o.value;tipo=r,rangoCuidado=tipo,o.classList.add("activo"),rangoPreg5.forEach((e=>{e!==o&&e.classList.remove("activo")}))}function elegirRangoPreg6(e){const o=e.currentTarget,r=o.value;tipo=r,rangoPreparado=tipo,o.classList.add("activo"),rangoPreg6.forEach((e=>{e!==o&&e.classList.remove("activo")}))}function elegirPregunta7(e){const o=e.currentTarget,r=o.value;tipo=r,preparadoCuidar=tipo,o.classList.add("activo"),Preg7.forEach((e=>{e!==o&&e.classList.remove("activo")}))}function resultadoEncuesta(){puntaje=Number(rangoSoldedad)+Number(rangoCuidado)+Number(rangoPreparado)+Number(preparadoCuidar);cargarResultado(Math.floor(puntaje/12*100))}function cargarResultado(e){document.querySelector("#c14").classList.add("oculto"),console.log("hola 1");document.querySelector(".contenedor").classList.add("oculto"),console.log("hola 2");contenedorResultado=`\n        <div class="container-final">\n    <div class="resultado" style="height: 100vh;">\n        <p class="intro">Tu nivel del preparación para la vejez es de un:</p>\n        <p class="porcentaje">${e}%</p>\n        <p class="mensaje-final">${e<=50?"Tu nivel de preparación para la vejez parece ser bajo. Es importante trabajar en aspectos como tus redes de apoyo, hábitos saludables y planificación económica para mejorar tu calidad de vida futura.":e>50&&e<83?"Estás en un nivel de preparación moderado para la vejez. Aunque tienes algunos aspectos bien cubiertos, hay otros que podrían fortalecerse.":"¡Felicidades! Estás bien preparado para enfrentar la vejez. Mantén tus hábitos saludables, redes de apoyo y planificación económica para asegurar una calidad de vida estable."}</p>\n    </div>\n    <div class="final">\n        <div class="logo-final">\n            <img class="logotipo" src="build/img/LOGOTIPO.svg" alt="Logo">\n        </div>\n\n        <h4>¡Increíble!</h4>\n        <p>\n            Acaba de descubrir un desafío que definirá su futuro, y eso refleja su gran fortaleza.\n        </p>\n        <p>Tiene en sus manos la oporunidad de actuar, comenzando por cuidar quienes más lo necesitan, sus mayores.</p>\n        <p style="margin-bottom: 50px;"><span>Ahora es el momento de hacer algo al respecto</span></p>\n        <div class="botones">\n            <a style="width: 250px;" href="https://grimy-hide-jud.mnz.dom.my.id/" class="boton">Realice el cambio</a>\n            <a style="width: 300px;"href="https://conapam.go.cr/" class="boton">Conoce más sobre nosotros</a>\n            <div class="contenedor-facebook">\n               <a href="https://facebook.com"> <img class="facebook" src="build/img/Icono_Facebook.svg" alt="Icono de Facebook"></a>\n            </div>\n        </div>\n    </div>\n</div>\n    `;document.querySelector("body").innerHTML=contenedorResultado,eliminarFlechas(),guardarEncuesta()}function eliminarFlechas(){flechaAntes=document.querySelector(".antes"),flechaDespues=document.querySelector(".despues"),null!==flechaAntes&&null!=flechaDespues&&(flechaAntes.style.display="none",flechaDespues.style.display="none")}function validarRespuestas(){""===provincia||""===genero||""===rangoEdad||""===generoAbandonado||""===rangoSoldedad||""===rangoCuidado||""===rangoPreparado||""===preparadoCuidar?Swal.fire({title:"Uups...",text:"Parece que no has completado todas las preguntas",icon:"error"}):resultadoEncuesta()}async function guardarEncuesta(){const e=new FormData;e.append("provincia",provincia),e.append("genero",genero),e.append("rango_de_edad",rangoEdad),e.append("genero_abandonado",generoAbandonado),e.append("id_apoyo_familiar",rangoSoldedad),e.append("id_habitos_saludables",rangoCuidado),e.append("id_planes_economicos",rangoPreparado),e.append("id_cuidado_familiar",preparadoCuidar);try{const o=`${location.origin}/metricas`,r=await fetch(o,{method:"POST",body:e});console.log(r)}catch(e){console.log(e)}}hombresOMujeres.addEventListener("change",alegirHombresOMujeres);